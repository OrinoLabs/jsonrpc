<!doctype html>
<html>
<head>
  <script type="module">

    import { Client } from '../dist/es6/client.js';
    import { FetchTransport } from '../dist/es6/fetchtransport.js';

    function prettyJson(obj) {
      return JSON.stringify(obj, undefined, 2);
    }

    let client = new Client(new FetchTransport);

    window.performCall = function() {
      let params = {
        now: Date.now(),
      };

      console.log('Calling "echo" with params: ', prettyJson(params));

      client.call('echo', params)
      .then((result) => {
        console.log('Result: ', prettyJson(result));
      })
    }

  </script>
</head>
<body>
  <p>
    <button onclick="performCall()">Perform Call</button>
  </p>
  <p>
    <i>See browser console for output.</i>
  </p>
</body>
</html>
